<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.django.springboot2.dao.mapper.OrganizationMapper">
    <insert id="insert" parameterType="organization" >
        INSERT INTO t_organization (id, org_name, org_address, org_web_sit,org_num,
        org_tel_num, org_regist_date, note)
        VALUES (#{id}, #{orgName}, #{orgAddress}, #{orgWebSit}, #{orgNum},
        #{orgTelNum}, #{orgRegistDate}, #{note});

    </insert>

    <delete id="delete" parameterType="BigDecimal" >
        DELETE FROM t_organization WHERE  id= #{id}
    </delete>

    <update id="update" parameterType="organization" >
         UPDATE t_organization
         <set>
            <if test="orgName !=null">
                org_name = #{orgName},
             </if>
             <if test="orgAddress !=null">
                 org_address = #{orgAddress},
             </if>
             <if test="orgWebSit !=null">
                 org_web_sit = #{orgWebSit},
             </if>
             <if test="orgNum !=null">
                 org_num = #{orgNum},
             </if>

             <if test="orgTelNum !=null">
                 org_tel_num = #{orgTelNum},
             </if>
             <if test="orgRegistDate !=null">
                 org_regist_date = #{orgRegistDate},
             </if>
             <if test="note !=null">
                 note = #{note},
             </if>
         </set>

    </update>

    <select id="queryById" parameterType="BigDecimal" resultType="organization">
        SELECT id, org_name, org_address, org_web_sit,org_num,
         org_tel_num, org_regist_date, note FROM t_organization WHERE  id=#{id}
    </select>

    <select id="queryByWhere" parameterType="organization" resultType="organization">

        SELECT id, org_name, org_address, org_web_sit,org_num,
         org_tel_num, org_regist_date, note FROM t_organization
         <where>

             <if test="orgName !=null">
                 org_name = #{orgName}
             </if>
             <if test="orgAddress !=null">
                 AND org_address = #{orgAddress}
             </if>
             <if test="orgWebSit !=null">
                 AND org_web_sit = #{orgWebSit}
             </if>
             <if test="orgNum !=null">
                 AND org_num = #{orgNum}
             </if>
             <if test="orgTelNum !=null">
                 AND org_tel_num = #{orgTelNum}
             </if>
             <if test="orgRegistDate !=null">
                 AND org_regist_date = #{orgRegistDate}
             </if>
             <if test="note !=null">
                 <bind name="pattern" value="'%'+ note +'%'"/>
                 AND note LIKE #{pattern}
             </if>


         </where>

    </select>


</mapper>